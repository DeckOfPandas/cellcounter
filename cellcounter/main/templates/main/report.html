{% extends 'main/base.html' %}

{% block head %}

<link href="{{ STATIC_URL }}css/jquery.jqplot.min.css" rel="stylesheet">


<script type="text/javascript" src="{{ STATIC_URL }}scripts/jquery.jqplot.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}scripts/jqplot.canvasTextRenderer.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}scripts/jqplot.canvasAxisLabelRenderer.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}scripts/jqplot.donutRenderer.min.js"></script>
<script type="text/javascript" src="{{ STATIC_URL }}scripts/jqplot.pieRenderer.min.js"></script>


<script type="text/javascript">
$(document).ready(function(){
  //var plot1 = $.jqplot ('chart1', [[3,7,9,1,4,6,8,2,5]]);

var data = [
    ['Myelo', 12],['Retail', 9], ['Light Industry', 14],
    ['Out of home', 16],['Commuting', 7], ['Orientation', 9]
  ];

{% autoescape off %}
  var data = {{ cellcount_list.chartdata }};
{% endautoescape %}
  var plot3 = $.jqplot('chart1', [data], {
    seriesDefaults: {
      // make this a donut chart.
      renderer:$.jqplot.DonutRenderer,
      //renderer:$.jqplot.PieRenderer,
      rendererOptions:{
        // Donut's can be cut into slices like pies.
        sliceMargin: 3,
        // Pies and donuts can start at any arbitrary angle.
        startAngle: -90,
        showDataLabels: true,
        // By default, data labels show the percentage of the donut/pie.
        // You can show the data 'value' or data 'label' instead.
        dataLabels: 'value'
      }
      },

      legend: {
              show: true,
              location: 'e',     // compass direction, nw, n, ne, e, se, s, sw, w.
      }
  });


});

</script

{% endblock %}

{% block content %}

<!-- Data display below keyboard -->


<h3 align=left class="push_2">Report</h1>
<table class="reporttable grid_11 push_2">
	<th>Sample</th>
	<tr>
		<td width=150px>Site</td>
        <td width=100px>{{cellcount_list.site}}</td>
		<td width=150px>Ease of Aspiration</td>
        <td width=100px>{{cellcount_list.ease_of_aspiration}}</td>
	</tr>
	<tr>
		<td>Particle Number</td>
        <td>xxx<td>
		<td>Cellularity</td>
        <td>xxx</td>
	</tr>
	<tr>
		<td>Trail Cellularity</td>
        <td>xxx</td>
	</tr>
	<tr>
		<td>Haemodilution</td>
        <td>xxx</td>
	</tr>
</table>

<div class="push_2">

<table style="float: left">
  <tr>
    <th>Total cells</th>
    <td>{{cellcount_list.total}}</td>
    <td></td>
  </tr>
  <tr>
    <th>M/E ratio</th>
    <td>{{cellcount_list.meratio}}</td>
    <td></td>
  </tr>
  <tr>
  	<th></th><th>Count</th><th>Percentages</th>
  </tr>
  <tr>
    <td>Neutrophils</td>
    <td>{{cellcount_list.counts.neut.normal}}</td>
    <td>{{cellcount_list.counts.neut.percent}}</td>
  </tr>
  <tr>
    <td>Myelocytes</td>
    <td>{{cellcount_list.counts.myelo.normal}}</td>
    <td>{{cellcount_list.counts.myelo.percent}}</td>
  </tr>
  <tr>
    <td>Promyelocytes</td>
    <td>{{cellcount_list.counts.promyelo.normal}}</td>
    <td>{{cellcount_list.counts.promyelo.percent}}</td>
  </tr>
  <tr>
    <td style="width: 150px">Blasts</td>
    <td style="width: 50px">{{cellcount_list.counts.blast.normal}}</td>
    <td style="width: 50px">{{cellcount_list.counts.blast.percent}}</td>
  </tr>
  <tr>
    <td>Eosinophils</td>
    <td>{{cellcount_list.counts.eo.normal}}</td>
    <td>{{cellcount_list.counts.eo.percent}}</td>
  </tr>
  <tr>
    <td>Basophils</td>
    <td>{{cellcount_list.counts.baso.normal}}</td>
    <td>{{cellcount_list.counts.baso.percent}}</td>
  </tr>
  <tr>
    <td>Erythrocytes</td>
    <td>{{cellcount_list.counts.erythro.normal}}</td>
    <td>{{cellcount_list.counts.erythro.percent}}</td>
  </tr>
	<tr>
		<td>Metamyelocytes</td>
    <td>{{cellcount_list.counts.meta.normal}}</td>
    <td>{{cellcount_list.counts.meta.percent}}</td>
	</tr>
	<tr>
		<td>Plasma Cells</td>
    <td>{{cellcount_list.counts.plasma.normal}}</td>
    <td>{{cellcount_list.counts.plasma.percent}}</td>
  </tr>
  <tr>
    <td>Monocytes</td>
    <td>{{cellcount_list.counts.mono.normal}}</td>
    <td>{{cellcount_list.counts.mono.percent}}</td>
  </tr>
</table>

<div id="chart1" style="margin-left: 20px; height:320px; width:420px; float: left;"></div>

</div>

<br /><br />
<br /><br />

<table width=700px class="content push_2" align=center style="clear: both">
<tbody><tr>
<th class="content">Lymphoid</th>
<th class="content">Myeloid</th>
<th class="content">Myeloma</th>
<th class="content">MPD</th>
<th class="content">Transplant</th>
<th class="content">Haemostasis</th>
<th class="content">Miscellany</th>
</tr>
<tr>
<td><a href="http://www.bloodref.com/lymphoid/ann-arbor">Ann Arbor</a><br><a href="http://www.bloodref.com/lymphoid/cll-immunophenotyping">CLL score</a><br><a href="http://www.bloodref.com/lymphoid/binet-rai">CLL staging</a><br><a href="http://www.bloodref.com/lymphoid/cll-response">CLL response</a><br><a href="http://www.bloodref.com/lymphoid/ipi">IPI</a><br><a href="http://www.bloodref.com/lymphoid/r-ipi">R-IPI</a><br><a href="http://www.bloodref.com/lymphoid/isswm">ISSWM</a><br><a href="http://www.bloodref.com/lymphoid/flipi">FLIPI</a><br><a href="http://www.bloodref.com/lymphoid/flipi2">FLIPI-2</a><br><a href="http://www.bloodref.com/lymphoid/lugano">Lugano staging</a><br><a href="http://www.bloodref.com/lymphoid/hasenclever">Hasenclever</a><br><a href="http://www.bloodref.com/lymphoid/mipi">MIPI</a><br><a href="http://www.bloodref.com/lymphoid/ptcl-pit">PIT</a></td>
<td><a href="http://www.bloodref.com/myeloid/aml-cytogenetics">AML cytogenetics</a><br><a href="http://www.bloodref.com/myeloid/aml-diagnosis">AML diagnosis</a><br><a href="http://www.bloodref.com/myeloid/aml-response">AML response</a><br><a href="http://www.bloodref.com/myeloid/aml-relapse">AML relapse</a><br><a href="http://www.bloodref.com/myeloid/aa">Aplastic anemia</a><br><a href="http://www.bloodref.com/myeloid/cml-diagnosis">CML diagnosis</a><br><a href="http://www.bloodref.com/myeloid/cml-prognosis">CML prognosis</a><br><a href="http://www.bloodref.com/myeloid/cml-response">CML response</a><br><a href="http://www.bloodref.com/myeloid/cmml-diagnosis">CMML diagnosis</a><br><a href="http://www.bloodref.com/myeloid/cmml-prognosis">CMML prognosis</a><br><a href="http://www.bloodref.com/myeloid/jmml-diagnosis">JMML diagnosis</a><br><a href="http://www.bloodref.com/myeloid/mds-diagnosis">MDS diagnosis</a><br><a href="http://www.bloodref.com/myeloid/mds-ipss">MDS IPSS</a><br><a href="http://www.bloodref.com/myeloid/mds-wpss">MDS WPSS</a></td>
<td><a href="http://www.bloodref.com/myeloma/asymptomatic">Asymptomatic</a><br><a href="http://www.bloodref.com/myeloma/diagnosis">Diagnosis</a><br><a href="http://www.bloodref.com/myeloma/iss">ISS staging</a><br><a href="http://www.bloodref.com/myeloma/response">Response criteria</a><br><a href="http://www.bloodref.com/myeloma/mgus-risk">MGUS risk</a></td>
<td><a href="http://www.bloodref.com/mpd/et-diagnosis">ET diagnosis</a><br><a href="http://www.bloodref.com/mpd/et-risk">ET risk</a><br><a href="http://www.bloodref.com/mpd/mf-diagnosis">MF diagnosis</a><br><a href="http://www.bloodref.com/mpd/mf-response">MF response</a><br><a href="http://www.bloodref.com/mpd/mf-prognosis">MF prognosis</a><br><a href="http://www.bloodref.com/mpd/pv-diagnosis">PV diagnosis</a><br><a href="http://www.bloodref.com/mpd/sm-diagnosis">SM</a><p></p>
</td><td><a href="http://www.bloodref.com/transplant/agvhd">aGVHD grading</a><br><a href="http://www.bloodref.com/transplant/aml-mds-all">AML/MDS/ALL</a><br><a href="http://www.bloodref.com/transplant/cgvhd-diagnosis">cGVHD diagnosis</a><br><a href="http://www.bloodref.com/transplant/cgvhd-scoring">cGVHD assessment</a><br><a href="http://www.bloodref.com/transplant/cgvhd-prognosis">cGVHD prognosis</a><br><a href="http://www.bloodref.com/transplant/ebmt-risk">EBMT risk</a><br><a href="http://www.bloodref.com/transplant/pam">PAM score</a><br><a href="http://www.bloodref.com/transplant/vod-sos">VOD/SOS</a></td>
<td><a href="http://www.bloodref.com/hemostasis/aps">APS diagnosis</a><br><a href="http://www.bloodref.com/hemostasis/hit">HIT diagnosis</a><br><a href="http://www.bloodref.com/hemostasis/isth-bleeding">ISTH bleeding</a><br><a href="http://www.bloodref.com/hemostasis/hsc-bleeding">HSC bleeding</a><br><a href="http://www.bloodref.com/hemostasis/vwd-type1">Type 1 vWD</a><br><a href="http://www.bloodref.com/hemostasis/vwd-type2">Type 2 vWD</a><p></p>
</td><td><a href="http://www.bloodref.com/miscellaneous/calculators">Calculators</a><br><a href="http://www.bloodref.com/myeloid/hlh-diagnosis">HLH diagnosis</a><br><a href="http://www.bloodref.com/miscellaneous/performance-status">Performance status</a></td>
</tr>
</tbody></table>
<p class="push_4"><i>With thanks to www.bloodref.com</i></p>

<!--
<table class="grid_11 push_2">
	<th>Megakaryocytes</th>
	<tr>
		<td width=150px>Number</td>
		<td width=100px>xxx</td>
	</tr>
	<tr>
		<td>Features</td>
		<td>{{cellcount_list.counts.megafeatures.normal}}</td>
	</tr>
	<tr>
		<td>Comment</td>
		<td>{{cellcount_list.counts.megacomment.normal}}</td>
	</tr>
</table>


<table class="grid_11 push_2">
	<th>Erythropoiesis</th>
	<tr>
		<td width=150px>Features</td>
		<td width=100px>{{cellcount_list.counts.erythofeatures.normal}}</td>
	</tr>
	<tr>
		<td width=150px>Comment</td>
		<td width=100px>xxx</td>
	</tr>
</table>


<table class="grid_11 push_2">
	<th>Granulopoiesis</th>
	<tr>
		<td width=150px>Features</td>
		<td width=100px>xxx</td>
	</tr>
	<tr>
		<td>Comment</td>
		<td>xxx</td>
	</tr>
</table>
-->

{% endblock %}
